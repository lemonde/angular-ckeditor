!function(a,b){"function"==typeof define&&define.amd?define(["angular"],b):b(angular)}(this,function(a){function b(a,b){var c;return c=a.hasAttribute("contenteditable")&&"true"==a.getAttribute("contenteditable").toLowerCase()?CKEDITOR.inline(a,b):CKEDITOR.replace(a,b)}function c(a){return{restrict:"A",require:["ckeditor","ngModel"],controller:["$scope","$element","$attrs","$parse","$q",d],link:function(c,d,f,g){var h=g[0];h.modelController=g[1];var i=function(){["dataReady","change","blur","saveSnapshot"].forEach(function(a){h.onCKEvent(a,function(){h.modelController.$setViewValue(h.instance.getData()||"")})}),h.instance.setReadOnly(!!f.readonly),f.$observe("readonly",function(a){h.instance.setReadOnly(!!a)}),e(function(){a(f.ready)(c)})};h.ready().then(function(){i()}),h.modelController.$render=function(){h.ready().then(function(){h.instance.setData(h.modelController.$viewValue||"")})},c.$on("recreate-ckeditor",function(){var e=a(f.ckeditor)(c)||{};h.instance=b(d[0],e),h.instance.on("instanceReady",function(){h.readyDeferred.resolve(!0)}),h.ready().then(function(){i()})}),c.$on("destroy-ckeditor",function(){h.instance.destroy(!1),h.instance=null,h.readyDeferred=$q.defer()})}}}function d(a,c,d,f,g){var h,i,j=f(d.ckeditor)(a)||{},k=c[0];i=this.readyDeferred=g.defer(),h=this.instance=b(k,j),this.onCKEvent=function(b,c){function d(){var a=arguments;e(function(){f.apply(null,a)})}function f(){var b=arguments;a.$apply(function(){c.apply(null,b)})}return this.instance.on(b,d),function(){h.removeListener(b,f)}},this.onCKEvent("instanceReady",function(){i.resolve(!0)}),this.ready=function(){return this.readyDeferred.promise},a.$on("$destroy",function(){i.promise.then(function(){h.destroy(!1)})})}a.module("ckeditor",[]).directive("ckeditor",["$parse","$q",c]);var e=window&&window.setImmediate?window.setImmediate:function(a){setTimeout(a,0)}});
//# sourceMappingURL=angular-ckeditor.min.map